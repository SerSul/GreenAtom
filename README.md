# Форум API

## Описание

Движок форума предоставляет API для создания и управления темами (топиками) и сообщениями в этих темах. Реализованы функции для CRUD операций, что позволяет пользователям добавлять, просматривать, редактировать и удалять темы и сообщения.

### Основные особенности:
- **Хранение данных в БД H2**: легковесная, встраиваемая база данных.
- **CRUD операции с топиками и сообщениями**: API поддерживает создание, чтение, обновление и удаление тем и сообщений.
- **Global Exception Handler**: для обработки исключений и ошибок, возникающих при работе с API.
- **Swagger UI**: интерактивная документация API, доступная для тестирования эндпоинтов.

## Инициализация данных при старте

При старте приложения автоматически создаются два пользователя с разными ролями:

- **Администратор**:
  - Логин: `adminUsername`
  - Пароль: `adminPassword`
  - Email: `admin@example.com`

- **Пользователь**:
  - Логин: `userUsername`
  - Пароль: `userPassword`
  - Email: `user@example.com`

## База данных H2

- **URL**: `http://localhost:8080/h2-console`
- **Логин**: `sa`
- **Пароль**: `password`

## Авторизация

Для выполнения некоторых операций необходима предварительная регистрация и авторизация пользователя.

### Эндпоинты аутентификации:
- **Регистрация пользователя**: `POST /auth/sign-up`
- **Авторизация пользователя**: `POST /auth/sign-in`

После успешной авторизации пользователь получает JWT токен, который необходимо использовать для доступа к защищенным эндпоинтам.

## Эндпоинты

### Топики
- **Получить все топики**: `GET /api/topics/getAllTopics` *(требуется авторизация)*
- **Создать топик**: `POST /api/topics/createTopic` *(требуется авторизация)*

### Сообщения
- **Получить сообщения в топике**: `GET /api/topics/{topicId}/messages` *(требуется авторизация)*
- **Создать сообщение в топике**: `POST /api/topics/{topicId}/createMessage` *(требуется авторизация)*
- **Обновить сообщение**: `PUT /api/topics/messages/{messageId}/update` *(требуется авторизация)*
- **Удалить сообщение**: `DELETE /api/topics/messages/{messageId}/delete` *(требуется авторизация)*

## Swagger UI

Для удобства работы и тестирования API предоставляется Swagger UI.

- **URL**: `http://localhost:8080/swagger-ui.html`

## Docker

В проекте реализована поддержка Docker для упрощения процесса развертывания и запуска приложения. 

### Dockerfile

Проект содержит `Dockerfile`, который описывает инструкции для сборки Docker образа приложения.

### Сборка образа

Чтобы собрать Docker образ, выполните следующую команду в корневом каталоге проекта:

```bash
docker build -t forum-api .
```
Для запуска контейнера из собранного образа используйте следующую команду:

```bash
docker run -d -p 8080:8080 forum-api
```

